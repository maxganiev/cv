<!DOCTYPE html>
<html lang="ru">
	<head>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-B87KWQCQCC"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'G-B87KWQCQCC');
		</script>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>
		<script src="https://kit.fontawesome.com/dd7cb428b6.js" crossorigin="anonymous"></script>
		<link rel="icon" type="image/png" href="favicon.png" sizes="16x16" />
		<title>Ganiev Maxim | webdev</title>
		<style>
			@font-face {
				font-family: 'Montserrat';
				font-style: normal;
				font-weight: 400;
				src: url(https://fonts.gstatic.com/s/montserrat/v25/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2)
					format('woff2');
				unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
					U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
			}

			*,
			*::after,
			*::after {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: 'Montserrat';
			}

			:root {
				--fs-vlg: 3.6vh;
				--fs-lg: 2.6vh;
				--fs-mid: 1.9vh;
				--fs-sm: 1.5vh;
				--fs-vsm: 1vh;

				--bg-clr-main: #000;
			}

			body {
				-ms-overflow-style: none;
				scrollbar-width: none;
			}

			body::-webkit-scrollbar {
				display: none;
				background-color: #000;
			}

			.border-style {
				border: 0.5px solid rgb(255, 255, 255);
				border-radius: 20px;
			}

			.fa-solid.fa-caret-down,
			.fa-solid.fa-caret-up {
				display: block;
			}

			.fa-solid.fa-computer-mouse {
				bottom: 5vh;
				font-size: 6vh;
				color: white;
				position: fixed;
				animation-name: animate-mouse;
				animation-duration: 0.2s;
				animation-iteration-count: infinite;
				animation-fill-mode: backwards;
				animation-direction: alternate-reverse;
				animation-timing-function: ease-out;
			}

			main {
				position: relative;
				height: 150vh;
				transition: all 0.7s ease-in-out;
				background-color: #000;
				/* background-color: #fc4; */
			}

			main .div-progress {
				position: sticky;
				top: 0;
				left: 0;
				width: 0%;
				height: 0.5rem;
				z-index: 20000;
				background-color: #fff;
				transition: width 0.6s ease-out;
			}

			.div-wrapper-fixed-mobile {
				display: none;
			}

			main .div-wrapper-fixed-desktop {
				position: absolute;
				width: 100%;
				height: 75%;
				top: -5vh;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			main .div-wrapper-fixed-desktop .div-rotatable {
				height: 70vh;
				aspect-ratio: 1/1;
				transform-style: preserve-3d;
				transition: all 0.3s ease-in;
				transform: rotate3d(1, 0, 0, 0deg);
				position: fixed;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-front {
				background: #000;
				color: #fff;
				transform: translateZ(35vh);
				width: 100%;
				height: 100%;
				backface-visibility: hidden;
				position: absolute;
				display: flex;
				justify-content: space-evenly;
				align-items: center;
				flex-direction: column;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-front .div-thumbnail {
				/* height: 80%; */
				flex: 0.5;
				transform: translateX(-100vw);
				transition: all 0.6s ease-out;
				position: relative;
				width: 100%;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-front .div-thumbnail img {
				height: 100%;
				object-fit: contain;
				border-radius: 10px;
				position: absolute;
				top: 5.5px;
				left: 8px;
				display: block;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-front .div-list-bio {
				/* height: 100%; */
				flex: 0.8;
				transform: translateX(100vw);
				transition: all 0.6s ease-out;
				display: flex;
				justify-content: left;
				align-items: center;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-front .div-list-bio .list-bio {
				display: flex;
				flex-direction: column;
				width: 90%;
				/* margin: 30px 0 30px 30px; */
				list-style-type: none;
				color: #fff;
				font-size: var(--fs-mid);
				padding: 10px;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-bottom {
				background: #000;
				transform: rotateX(90deg) translateZ(35vh);
				/* transform: rotateX(180deg) rotateY(0deg) translateZ(35vh); */
				width: 100%;
				height: 100%;
				backface-visibility: hidden;
				position: absolute;
				text-align: center;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-bottom p {
				font-size: var(--fs-lg);
				margin: 40% 0 0 calc(18% - 2.6vh);
				width: 70%;
				color: #fff;
				display: block;
				padding-bottom: 20px;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-bottom a {
				font-size: var(--fs-vlg);
				color: #fff;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-bottom a:hover {
				text-decoration: none;
				opacity: 0.7;
				text-shadow: #fff 1px 0.5px 0.5px;
				transition: all 0.2s ease-out;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle {
				transform: rotateX(-90deg) translateZ(35vh);
				width: 100%;
				height: 100%;
				backface-visibility: hidden;
				background-color: #000;
				position: absolute;
				display: flex;
				justify-content: start;
				align-items: center;
				/* border: 1px #000 solid; */
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle .list-stack {
				color: #fff;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle .list-stack li,
			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li {
				list-style-type: none;
				transition: all 0.8s ease-out;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li a {
				color: #fff;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle .list-stack,
			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects {
				width: 100%;
				height: 100%;
				display: flex;
				flex-direction: column;
				text-align: left;
				font-size: var(--fs-mid);
				/* line-height: 1.5rem; */
				transition: all 0.56s ease-in;
				padding-left: 0.9rem;
				justify-content: center;
			}

			/* main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle .list-stack li .list-included,
			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li .list-included {
				margin-left: 5%;
			} */

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle .list-stack li strong,
			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li strong {
				font-size: var(--fs-mid);
				/* margin: 0 0 20px 0; */
				margin: 0 0.9rem 20px;
				display: block;
				padding: 0.2rem 0.9rem;
				width: 80%;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li strong {
				color: #fff;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-middle .list-stack li .list-included li,
			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li .list-included li {
				list-style-type: disclosure-closed;
				text-align: left;
				font-size: var(--fs-mid);
				/* line-height: 1.5rem; */
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top .list-projects li .list-included li {
				color: #fff;
			}

			main .div-wrapper-fixed-desktop .div-rotatable .div-face-top {
				/* transform: rotateX(90deg) translateZ(35vh); */
				transform: rotateX(180deg) rotateY(0deg) translateZ(35vh);
				width: 100%;
				height: 100%;
				backface-visibility: hidden;
				background-color: #000;
				position: absolute;
				display: flex;
				justify-content: start;
				align-items: center;
			}

			a {
				font-size: var(--fs-mid);
				color: #fff;
				text-decoration: none;
				font-style: italic;
			}

			a:hover {
				text-decoration: underline;
				color: inherit;
			}

			sup {
				font-size: var(--fs-sm);
				color: #fff;
			}

			@media (min-width: 150px) and (max-width: 600px) {
				.fa-solid.fa-computer-mouse {
					display: none;
				}

				.fa-solid.fa-caret-down,
				.fa-solid.fa-caret-up {
					color: white;
					font-size: 8vh;
					position: fixed;
					z-index: 1000;
					bottom: 2vh;
				}

				.fa-solid.fa-caret-up {
					top: 2vh;
				}

				main .div-wrapper-fixed-desktop .div-rotatable {
					width: 90%;
					margin-top: -100px;
				}

				main .div-wrapper-fixed-desktop .div-rotatable .div-face-front .div-list-bio .list-bio {
					font-size: 1.75vh;
				}
			}

			@keyframes animate-mouse {
				from {
					transform: translateY(10%);
				}
				to {
					transform: translateY(0%);
				}
			}
		</style>
	</head>
	<body>
		<main>
			<div class="div-progress" id="div-progress"></div>
			<div class="div-wrapper-fixed-desktop">
				<i class="fa-solid fa-caret-up" id="carret-up"></i>
				<div class="div-rotatable border-style" id="div-rotatable">
					<div class="div-face-bottom border-style" id="div-face-bottom">
						<p>Hit me up if you have any project, or just want to talk</p>
					</div>
					<div class="div-face-front border-style" id="div-face-front">
						<div class="div-thumbnail"><img src="./pic.jpg" alt="a thumbnail" /></div>
						<div class="div-list-bio">
							<ul class="list-bio" id="list-bio"></ul>
						</div>
					</div>
					<div class="div-face-middle border-style">
						<ul class="list-stack" id="list-stack"></ul>
					</div>
					<div class="div-face-top border-style">
						<ul class="list-projects" id="list-projects"></ul>
					</div>
				</div>
				<i class="fa-solid fa-caret-down" id="carret-down"></i>
				<i class="fa-solid fa-computer-mouse" id="computer-mouse"></i>
			</div>
		</main>

		<script>
			const divWrapperRotatable = document.getElementById('div-rotatable');
			const listBio = document.getElementById('list-bio');
			const listStack = document.getElementById('list-stack');
			const listProjects = document.getElementById('list-projects');
			const divFaceFront = document.getElementById('div-face-front');
			const divFaceBottom = document.getElementById('div-face-bottom');
			const main = document.getElementsByTagName('main')[0];
			const progress = document.getElementById('div-progress');
			const carret = {
				down: document.getElementById('carret-down'),
				up: document.getElementById('carret-up'),
				updateVisibility: function () {
					if (!mobileScreen.is) {
						this.up.style.visibility = this.down.style.visibility = 'hidden';
						return;
					}

					this.up.style.visibility = rotateK === 0 || rotateK == undefined ? 'hidden' : 'visible';
					this.down.style.visibility = rotateK === 270 ? 'hidden' : 'visible';
				},
			};
			const computerMouse = document.getElementById('computer-mouse');

			carret.down.onclick = carret.up.onclick = (e) => {
				mobileScreen.checkIfIs();
				rotate(e, rotateK);
			};

			setTimeout(() => {
				Array.from(divFaceFront.children).forEach(
					(child) => (child.style.transform = 'translateX(0%)')
				);
			}, 400);

			// Array.from(divWrapperRotatable.children).forEach((child) => {
			// 	child.style.border = 'none';
			// 	child.style.boxShadow = '3px 15px 115px #fff';
			// });

			const pixelsScrolledTop = {
				startValue: 0,
				endValue: 0,
				scrollingDown: false,
				setScrollingDown() {
					this.scrollingDown = this.startValue > this.endValue;
				},
				setValue(scrolledPixelsValue, target) {
					this.startValue = scrolledPixelsValue;

					setTimeout(() => {
						this.endValue = scrolledPixelsValue;
						windowBeingScrolled.checkIfIs();
						this.setScrollingDown();
						console.log(this.scrollingDown);
						// rotate(target, rotateK);
					}, 250);
				},
			};

			const windowBeingScrolled = {
				is: false,
				checkIfIs() {
					this.is = pixelsScrolledTop.startValue === pixelsScrolledTop.endValue;
					//console.log(this.is);
				},
			};

			const mobileScreen = {
				is: false,
				checkIfIs: function () {
					this.is = document.body.clientWidth <= 600;

					if (computerMouse)
						computerMouse.style.visibility =
							this.is || document.documentElement.scrollTop > 0 ? 'hidden' : 'visible';
				},
			};
			window.addEventListener('load', () => {
				mobileScreen.checkIfIs();
				carret.updateVisibility();
			});

			window.addEventListener('resize', () => {
				mobileScreen.checkIfIs();
				carret.updateVisibility();
			});

			let rotateK = 0;
			function rotate(e, rK) {
				const scrollPos = document.documentElement.scrollTop / 1.5;
				const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;

				if (scrollPos > 0 && scrollPos <= height / 4) {
					rotateK = 90;
					computerMouse.remove();
				} else if (scrollPos > height / 4 && scrollPos < height / 2) rotateK = 180;
				else if (scrollPos > height / 2) rotateK = 270;
				else rotateK = 0;

				if (e.target && e.target.id === 'carret-down') {
					if (rK === 0) rotateK = 90;
					else if (rK === 90) rotateK = 180;
					else if (rK === 180) rotateK = 270;
				}

				if (e.target && e.target.id === 'carret-up') {
					if (rK === 270) rotateK = 180;
					else if (rK === 180) rotateK = 90;
					else if (rK === 90) rotateK = 0;
				}

				carret.updateVisibility();

				divWrapperRotatable.style.transform = `rotate3d(1, 0, 0, ${rotateK}deg)`;

				if (rotateK === 90)
					Array.from(listStack.children).forEach(
						(child) => (child.style.transform = 'translateX(0%)')
					);

				if (rotateK === 180)
					Array.from(listProjects.children).forEach(
						(child) => (child.style.transform = 'translateX(0%)')
					);

				progress.style.width = (() => {
					if (rotateK === 0) return '0%';
					if (rotateK === 90) return '25%';
					if (rotateK === 180) return '75%';
					if (rotateK === 270) return '100%';
				})();
			}

			window.addEventListener('scroll', (e) => {
				mobileScreen.checkIfIs();
				if (mobileScreen.is) return;

				//pixelsScrolledTop.setValue(document.documentElement.scrollTop);
				rotate(e.target);
			});

			window.addEventListener('keyup', (e) => {
				if (e.key === 'ArrowDown') rotateK = rotateK < 270 ? (rotateK += 90) : 270;
				if (e.key === 'Arrowup') rotateK = rotateK > 0 ? (rotateK -= 90) : 0;
			});

			const firstWorkingDay = new Date('January 10, 2022 09:00');
			const today = new Date();
			const experience = today.getTime() - firstWorkingDay.getTime();
			//ms in day:
			const day = 1000 * 60 * 60 * 24;
			const myExperience = ((experience / day / 365) * 1.5).toFixed(1);

			const data = [
				{ key: 'Full Name:', value: 'Ganiev Maxim' },
				{ key: 'Birthday:', value: '19.08.1991' },
				{ key: 'Current location:', value: 'Saint-Petersburg, RF' },
				//{ key: 'Commercial experience in IT industry:', value: myExperience + ' years' },
				{
					key: 'Current occupation:',
					value: 'Full stack web developer at <a href="https://www.elcomspb.ru/"> Elcom Ltd.</a>',
				},
				{
					key: 'Key responsibilities:',
					value: 'Architecture and frontend blocks design, support and updates of the main product company website along with additional independent tools to serve company managers and customers needs',
				},
				{
					key: '',
					value: `I am mostly specialized in Frontend, but also can build fullstack apps. <br/> Inspired by <a href="https://www.traversymedia.com/"> Brad Traversy </a> and <a href="https://twitter.com/Rich_Harris?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"> Rich Harris </a>, like to use <a href="https://svelte.dev/"> Svelte </a> <br/>  Love snowboarding, big tennis, and my wife.`,
				},
				{
					key: 'Stack:',
					value: [
						'JavaScript (ECMA6), NodeJS (Express)',
						'Svelte & SvelteKit, React, Vue & Nuxt, Astro',
						'Prisma ORM',
						'PHP7, Laravel, ',
						'CSS & SASS, Bootstrap',
						'Compilers (Webpack, Snowpack, Vite)',
						'MySQL (quiries, configuration), MongoDB',
						'Github, Bitbucket',
						'Working with platforms like Netlify, Heroku',
						'Server configuration (Apache, Nginx)',
						'OSX, Windows, Ubuntu',
					],
				},
				{
					key: 'Links to couple of my projects are in below:',
					value: [
						{
							key: '',
							value: '<a href="https://www.elcomspb.ru/pumps_selector/" > Pump selector tool </a>',
						},
						{
							key: '',
							value: '<a href="https://www.elcomspb.ru/index.php?route=tool/freightcalc"> Logistic air freight charges tool </a> <sup>* only in Russian </sup>',
						},
						// {
						// 	key: '',
						// 	value: '<a href="https://www.elcomspb.ru/adchr/"> Electic motors configurator  </a> <sup>* only in Russian </sup>',
						// },
						{
							key: '',
							value: '<a href="https://www.elcomspb.ru/gearbox_selection/"> Gearbox configurators </a> <sup>* only in Russian </sup>',
						},
						// {
						// 	key: '',
						// 	value: '<a href="https://www.elcomspb.ru/acb_selector/"> Air circuit breaker selection tool </a> <sup>* under dev. </sup>',
						// },
						// {
						// 	key: '',
						// 	value: '<a href="https://www.elcomspb.ru/"> Corporate website </a>',
						// },
						// {
						// 	key: '',
						// 	value: '<a href="https://beta.elcomspb.ru/tool/gearbox_selector"> Gears selector </a>',
						// },
						{
							key: '',
							value: '<a href="https://beta.elcomspb.ru/tool/vcb_selector"> VCB selector </a> <sup>* under dev. </sup>',
						},
						{
							key: '',
							value: '<a href="https://beta.elcomspb.ru/tool/pump_conf"> Pump configurator </a> <sup>* under dev. </sup>',
						},
						// {
						// 	key: '',
						// 	value: '<a href="https://beta.elcomspb.ru/tool/customs_request"> Docx order form generator </a>',
						// },
						// {
						// 	key: '',
						// 	value: '<a href="https://newel-industry.com/"> Product site landing page </a>',
						// },
						// {
						// 	key: '',
						// 	value: '<a href="https://sms.elcomspb.ru/"> Subscribtion admin panel (auth via SMS) </a>',
						// },
						{
							key: '',
							value: '<p> Also built various services like PDF generators, SMS and email subscribtion admin tools, file uploaders, etc. </p>',
						},
					],
				},
			];

			data.filter((item) => typeof item.value === 'string').forEach((item, index) => {
				const listItem = document.createElement('li');

				if (typeof item.value === 'string') {
					listItem.innerHTML = `<strong> ${item.key} </strong> ${item.value}`;
					listBio.appendChild(listItem);
				}
			});

			data.filter((item) => typeof item.value === 'object' && Array.isArray(item.value)).forEach(
				(item, index) => {
					const listItem = document.createElement('li');
					const array = item.value;
					listItem.innerHTML = `<strong> ${item.key} </strong>`;

					if (item.key === 'Stack:') appendList(listStack, array, listItem, index);
					if (item.key.includes('Links to couple of my projects'))
						appendList(listProjects, array, listItem, index);
				}
			);

			function appendList(list, array, listItem, index) {
				if (typeof array[0] === 'string') {
					const listIncluded = document.createElement('ul');
					listIncluded.classList.add('list-included');
					listIncluded.innerHTML = array.map((_item) => `<li> ${_item} </li>`).join('');
					listItem.appendChild(listIncluded);
					listItem.style.marginTop = '5%';
				} else {
					const listIncluded = document.createElement('ul');
					listIncluded.classList.add('list-included');
					listIncluded.innerHTML = array.map((_item) => `<li> ${_item.value} </li>`).join('');
					listItem.appendChild(listIncluded);
					listItem.style.marginTop = '5%';
				}

				list.appendChild(listItem);
				listItem.style.transform = `translateX(${index % 2 !== 0 ? '-300vw' : '300vw'})`;
			}

			const links = [
				{ value: '<i class="fa-brands fa-telegram"></i>', href: 'https://t.me/maxganiev' },
				{ value: '<i class="fa-brands fa-twitter"></i>', href: 'https://twitter.com/maxganiev' },
			];

			links.forEach((item) =>
				divFaceBottom.insertAdjacentHTML('beforeend', `<a href=${item.href}> ${item.value} </a> &nbsp;`)
			);
		</script>
	</body>
</html>
